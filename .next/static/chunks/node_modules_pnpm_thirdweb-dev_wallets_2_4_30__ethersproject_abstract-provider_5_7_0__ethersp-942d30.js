"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_pnpm_thirdweb-dev_wallets_2_4_30__ethersproject_abstract-provider_5_7_0__ethersp-942d30"],{

/***/ "./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.30_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-s_yqy7bf6f4h75vhqrypon5x2ely/node_modules/@thirdweb-dev/wallets/evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm.js":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.30_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-s_yqy7bf6f4h75vhqrypon5x2ely/node_modules/@thirdweb-dev/wallets/evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm.js ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletConnectConnector: function() { return /* binding */ WalletConnectConnector; }\n/* harmony export */ });\n/* harmony import */ var _dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/defineProperty-350fc508.browser.esm.js */ \"./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.30_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-s_yqy7bf6f4h75vhqrypon5x2ely/node_modules/@thirdweb-dev/wallets/dist/defineProperty-350fc508.browser.esm.js\");\n/* harmony import */ var _dist_errors_9edc08c8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../dist/errors-9edc08c8.browser.esm.js */ \"./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.30_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-s_yqy7bf6f4h75vhqrypon5x2ely/node_modules/@thirdweb-dev/wallets/dist/errors-9edc08c8.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"./node_modules/.pnpm/ethers@5.7.2/node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _dist_walletIds_dff6dced_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/walletIds-dff6dced.browser.esm.js */ \"./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.30_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-s_yqy7bf6f4h75vhqrypon5x2ely/node_modules/@thirdweb-dev/wallets/dist/walletIds-dff6dced.browser.esm.js\");\n/* harmony import */ var _dist_url_a45219bd_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../dist/url-a45219bd.browser.esm.js */ \"./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.30_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-s_yqy7bf6f4h75vhqrypon5x2ely/node_modules/@thirdweb-dev/wallets/dist/url-a45219bd.browser.esm.js\");\n/* harmony import */ var _dist_WagmiConnector_2f14002d_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../dist/WagmiConnector-2f14002d.browser.esm.js */ \"./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.30_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-s_yqy7bf6f4h75vhqrypon5x2ely/node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-2f14002d.browser.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\nconst chainsToRequest = new Set([1, 137, 10, 42161, 56]);\nconst NAMESPACE = \"eip155\";\nconst REQUESTED_CHAINS_KEY = \"wagmi.requestedChains\";\nconst ADD_ETH_CHAIN_METHOD = \"wallet_addEthereumChain\";\nconst LAST_USED_CHAIN_ID = \"last-used-chain-id\";\nclass WalletConnectConnector extends _dist_WagmiConnector_2f14002d_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.W {\n  constructor(config) {\n    super({\n      ...config,\n      options: {\n        isNewChainsStale: true,\n        ...config.options\n      }\n    });\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"id\", _dist_walletIds_dff6dced_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.w.walletConnect);\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"name\", \"WalletConnect\");\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"ready\", true);\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"onAccountsChanged\", accounts => {\n      if (accounts.length === 0) {\n        this.emit(\"disconnect\");\n      } else {\n        if (accounts[0]) {\n          this.emit(\"change\", {\n            account: ethers__WEBPACK_IMPORTED_MODULE_4__.utils.getAddress(accounts[0])\n          });\n        }\n      }\n    });\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"onChainChanged\", async chainId => {\n      const id = Number(chainId);\n      const unsupported = this.isChainUnsupported(id);\n      await this._storage.setItem(LAST_USED_CHAIN_ID, String(chainId));\n      this.emit(\"change\", {\n        chain: {\n          id,\n          unsupported\n        }\n      });\n    });\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"onDisconnect\", async () => {\n      await this._setRequestedChainsIds([]);\n      await this._storage.removeItem(LAST_USED_CHAIN_ID);\n      this.emit(\"disconnect\");\n    });\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"onDisplayUri\", uri => {\n      this.emit(\"message\", {\n        type: \"display_uri\",\n        data: uri\n      });\n    });\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"onConnect\", () => {\n      this.emit(\"connect\", {\n        provider: this._provider\n      });\n    });\n    this._storage = config.options.storage;\n    this._createProvider();\n    this.filteredChains = this.chains.length > 50 ? this.chains.filter(c => {\n      return chainsToRequest.has(c.chainId);\n    }) : this.chains;\n    this.showWalletConnectModal = this.options.qrcode !== false;\n  }\n  async connect() {\n    let {\n      chainId: chainIdP,\n      pairingTopic\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      let targetChainId = chainIdP;\n      if (!targetChainId) {\n        const lastUsedChainIdStr = await this._storage.getItem(LAST_USED_CHAIN_ID);\n        const lastUsedChainId = lastUsedChainIdStr ? parseInt(lastUsedChainIdStr) : undefined;\n        if (lastUsedChainId && !this.isChainUnsupported(lastUsedChainId)) {\n          targetChainId = lastUsedChainId;\n        } else {\n          targetChainId = this.filteredChains[0]?.chainId;\n        }\n      }\n      if (!targetChainId) {\n        throw new Error(\"No chains found on connector.\");\n      }\n      const provider = await this.getProvider();\n      this.setupListeners();\n      const isChainsStale = await this._isChainsStale();\n\n      // If there is an active session with stale chains, disconnect the current session.\n      if (provider.session && isChainsStale) {\n        await provider.disconnect();\n      }\n\n      // If there no active session, or the chains are stale, connect.\n      if (!provider.session || isChainsStale) {\n        const optionalChains = this.filteredChains.filter(chain => chain.chainId !== targetChainId).map(optionalChain => optionalChain.chainId);\n        this.emit(\"message\", {\n          type: \"connecting\"\n        });\n        await provider.connect({\n          pairingTopic,\n          chains: [targetChainId],\n          optionalChains: optionalChains.length > 0 ? optionalChains : [targetChainId]\n        });\n        await this._setRequestedChainsIds(this.filteredChains.map(_ref => {\n          let {\n            chainId\n          } = _ref;\n          return chainId;\n        }));\n      }\n\n      // If session exists and chains are authorized, enable provider for required chain\n      const accounts = await provider.enable();\n      if (!accounts[0]) {\n        throw new Error(\"No accounts found on provider.\");\n      }\n      const account = ethers__WEBPACK_IMPORTED_MODULE_4__.utils.getAddress(accounts[0]);\n      const id = await this.getChainId();\n      const unsupported = this.isChainUnsupported(id);\n      return {\n        account,\n        chain: {\n          id,\n          unsupported\n        },\n        provider: new ethers__WEBPACK_IMPORTED_MODULE_4__.providers.Web3Provider(provider)\n      };\n    } catch (error) {\n      if (/user rejected/i.test(error?.message)) {\n        throw new _dist_errors_9edc08c8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.U(error);\n      }\n      throw error;\n    }\n  }\n  async disconnect() {\n    const cleanup = () => {\n      if (typeof localStorage === \"undefined\") {\n        return;\n      }\n      for (const key in localStorage) {\n        if (key.startsWith(\"wc@2\")) {\n          localStorage.removeItem(key);\n        }\n      }\n    };\n    cleanup();\n    const provider = await this.getProvider();\n    const disconnectProvider = async () => {\n      try {\n        await provider.disconnect();\n      } catch (error) {\n        if (!/No matching key/i.test(error.message)) {\n          throw error;\n        }\n      } finally {\n        this._removeListeners();\n        await this._setRequestedChainsIds([]);\n        cleanup();\n      }\n    };\n    disconnectProvider();\n  }\n  async getAccount() {\n    const {\n      accounts\n    } = await this.getProvider();\n    if (!accounts[0]) {\n      throw new Error(\"No accounts found on provider.\");\n    }\n    return ethers__WEBPACK_IMPORTED_MODULE_4__.utils.getAddress(accounts[0]);\n  }\n  async getChainId() {\n    const {\n      chainId\n    } = await this.getProvider();\n    return chainId;\n  }\n  async getProvider() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!this._provider) {\n      await this._createProvider();\n    }\n    if (chainId) {\n      await this.switchChain(chainId);\n    }\n    if (!this._provider) {\n      throw new Error(\"No provider found.\");\n    }\n    return this._provider;\n  }\n  async getSigner() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const [provider, account] = await Promise.all([this.getProvider({\n      chainId\n    }), this.getAccount()]);\n    return new ethers__WEBPACK_IMPORTED_MODULE_4__.providers.Web3Provider(provider, chainId).getSigner(account);\n  }\n  async isAuthorized() {\n    try {\n      const [account, provider] = await Promise.all([this.getAccount(), this.getProvider()]);\n      const isChainsStale = await this._isChainsStale();\n\n      // If an account does not exist on the session, then the connector is unauthorized.\n      if (!account) {\n        return false;\n      }\n\n      // If the chains are stale on the session, then the connector is unauthorized.\n      if (isChainsStale && provider.session) {\n        try {\n          await provider.disconnect();\n        } catch {} // eslint-disable-line no-empty\n        return false;\n      }\n      return true;\n    } catch {\n      return false;\n    }\n  }\n  async switchChain(chainId) {\n    const chain = this.chains.find(chain_ => chain_.chainId === chainId);\n    if (!chain) {\n      throw new _dist_errors_9edc08c8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.S(`Chain with ID: ${chainId}, not found on connector.`);\n    }\n    try {\n      const provider = await this.getProvider();\n      const namespaceChains = this._getNamespaceChainsIds();\n      const namespaceMethods = this._getNamespaceMethods();\n      const isChainApproved = namespaceChains.includes(chainId);\n      if (!isChainApproved && namespaceMethods.includes(ADD_ETH_CHAIN_METHOD)) {\n        const firstExplorer = chain.explorers && chain.explorers[0];\n        const blockExplorerUrls = firstExplorer ? {\n          blockExplorerUrls: [firstExplorer.url]\n        } : {};\n        await provider.request({\n          method: ADD_ETH_CHAIN_METHOD,\n          params: [{\n            chainId: ethers__WEBPACK_IMPORTED_MODULE_4__.utils.hexValue(chain.chainId),\n            chainName: chain.name,\n            nativeCurrency: chain.nativeCurrency,\n            rpcUrls: (0,_dist_url_a45219bd_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.g)(chain),\n            // no clientId on purpose\n            ...blockExplorerUrls\n          }]\n        });\n        const requestedChains = await this._getRequestedChainsIds();\n        requestedChains.push(chainId);\n        await this._setRequestedChainsIds(requestedChains);\n      }\n      await provider.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{\n          chainId: ethers__WEBPACK_IMPORTED_MODULE_4__.utils.hexValue(chainId)\n        }]\n      });\n      return chain;\n    } catch (error) {\n      const message = typeof error === \"string\" ? error : error?.message;\n      if (/user rejected request/i.test(message)) {\n        throw new _dist_errors_9edc08c8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.U(error);\n      }\n      throw new _dist_errors_9edc08c8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.S(error);\n    }\n  }\n  async _createProvider() {\n    if (!this._initProviderPromise && \"object\" !== \"undefined\") {\n      this._initProviderPromise = this.initProvider();\n    }\n    return this._initProviderPromise;\n  }\n  async initProvider() {\n    const {\n      default: EthereumProvider,\n      OPTIONAL_EVENTS,\n      OPTIONAL_METHODS\n    } = await __webpack_require__.e(/*! import() */ \"node_modules_pnpm_walletconnect_ethereum-provider_2_11_3__types_react_18_2_73_react_18_2_0_no-3605e2\").then(__webpack_require__.bind(__webpack_require__, /*! @walletconnect/ethereum-provider */ \"./node_modules/.pnpm/@walletconnect+ethereum-provider@2.11.3_@types+react@18.2.73_react@18.2.0/node_modules/@walletconnect/ethereum-provider/dist/index.es.js\"));\n    const [defaultChain, ...optionalChains] = this.filteredChains.map(_ref2 => {\n      let {\n        chainId\n      } = _ref2;\n      return chainId;\n    });\n    if (defaultChain) {\n      // EthereumProvider populates & deduplicates required methods and events internally\n      this._provider = await EthereumProvider.init({\n        showQrModal: this.showWalletConnectModal,\n        projectId: this.options.projectId,\n        optionalMethods: OPTIONAL_METHODS,\n        optionalEvents: OPTIONAL_EVENTS,\n        chains: [defaultChain],\n        optionalChains: optionalChains,\n        metadata: {\n          name: this.options.dappMetadata.name,\n          description: this.options.dappMetadata.description || \"\",\n          url: this.options.dappMetadata.url,\n          icons: [this.options.dappMetadata.logoUrl || \"\"]\n        },\n        rpcMap: Object.fromEntries(this.filteredChains.map(chain => [chain.chainId, chain.rpc[0] || \"\" // TODO: handle chain.rpc being empty array\n        ])),\n        qrModalOptions: this.options.qrModalOptions\n      });\n    }\n  }\n\n  /**\n   * Checks if the target chains match the chains that were\n   * initially requested by the connector for the WalletConnect session.\n   * If there is a mismatch, this means that the chains on the connector\n   * are considered stale, and need to be revalidated at a later point (via\n   * connection).\n   *\n   * There may be a scenario where a dapp adds a chain to the\n   * connector later on, however, this chain will not have been approved or rejected\n   * by the wallet. In this case, the chain is considered stale.\n   *\n   * There are exceptions however:\n   * -  If the wallet supports dynamic chain addition via `eth_addEthereumChain`,\n   *    then the chain is not considered stale.\n   * -  If the `isNewChainsStale` flag is falsy on the connector, then the chain is\n   *    not considered stale.\n   *\n   * For the above cases, chain validation occurs dynamically when the user\n   * attempts to switch chain.\n   *\n   * Also check that dapp supports at least 1 chain from previously approved session.\n   */\n  async _isChainsStale() {\n    const namespaceMethods = this._getNamespaceMethods();\n    if (namespaceMethods.includes(ADD_ETH_CHAIN_METHOD)) {\n      return false;\n    }\n    if (!this.options.isNewChainsStale) {\n      return false;\n    }\n    const requestedChains = await this._getRequestedChainsIds();\n    const connectorChains = this.filteredChains.map(_ref3 => {\n      let {\n        chainId\n      } = _ref3;\n      return chainId;\n    });\n    const namespaceChains = this._getNamespaceChainsIds();\n    if (namespaceChains.length && !namespaceChains.some(id => connectorChains.includes(id))) {\n      return false;\n    }\n    return !connectorChains.every(id => requestedChains.includes(id));\n  }\n  async setupListeners() {\n    if (!this._provider) {\n      return;\n    }\n    this._removeListeners();\n    this._provider.on(\"accountsChanged\", this.onAccountsChanged);\n    this._provider.on(\"chainChanged\", this.onChainChanged);\n    this._provider.on(\"disconnect\", this.onDisconnect);\n    this._provider.on(\"session_delete\", this.onDisconnect);\n    this._provider.on(\"display_uri\", this.onDisplayUri);\n    this._provider.on(\"connect\", this.onConnect);\n  }\n  _removeListeners() {\n    if (!this._provider) {\n      return;\n    }\n    this._provider.removeListener(\"accountsChanged\", this.onAccountsChanged);\n    this._provider.removeListener(\"chainChanged\", this.onChainChanged);\n    this._provider.removeListener(\"disconnect\", this.onDisconnect);\n    this._provider.removeListener(\"session_delete\", this.onDisconnect);\n    this._provider.removeListener(\"display_uri\", this.onDisplayUri);\n    this._provider.removeListener(\"connect\", this.onConnect);\n  }\n  async _setRequestedChainsIds(chains) {\n    await this._storage.setItem(REQUESTED_CHAINS_KEY, JSON.stringify(chains));\n  }\n  async _getRequestedChainsIds() {\n    const data = await this._storage.getItem(REQUESTED_CHAINS_KEY);\n    return data ? JSON.parse(data) : [];\n  }\n  _getNamespaceChainsIds() {\n    if (!this._provider) {\n      return [];\n    }\n    const chainIds = this._provider.session?.namespaces[NAMESPACE]?.chains?.map(chain => parseInt(chain.split(\":\")[1] || \"\"));\n    return chainIds ?? [];\n  }\n  _getNamespaceMethods() {\n    if (!this._provider) {\n      return [];\n    }\n    const methods = this._provider.session?.namespaces[NAMESPACE]?.methods;\n    return methods ?? [];\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvLnBucG0vQHRoaXJkd2ViLWRldit3YWxsZXRzQDIuNC4zMF9AZXRoZXJzcHJvamVjdCthYnN0cmFjdC1wcm92aWRlckA1LjcuMF9AZXRoZXJzcHJvamVjdCthYnN0cmFjdC1zX3lxeTdiZjZmNGg3NXZocXJ5cG9uNXgyZWx5L25vZGVfbW9kdWxlcy9AdGhpcmR3ZWItZGV2L3dhbGxldHMvZXZtL2Nvbm5lY3RvcnMvd2FsbGV0LWNvbm5lY3QvZGlzdC90aGlyZHdlYi1kZXYtd2FsbGV0cy1ldm0tY29ubmVjdG9ycy13YWxsZXQtY29ubmVjdC5icm93c2VyLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN3QjtBQUM3RTtBQUMwQztBQUNLO0FBQ0s7QUFDaEU7QUFDUDs7QUFFdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQywyRUFBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLCtFQUFlLGFBQWEsc0VBQVM7QUFDekMsSUFBSSwrRUFBZTtBQUNuQixJQUFJLCtFQUFlO0FBQ25CLElBQUksK0VBQWU7QUFDbkI7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EscUJBQXFCLHlDQUFLO0FBQzFCLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksK0VBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsSUFBSSwrRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSwrRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLElBQUksK0VBQWU7QUFDbkI7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdGhpcmR3ZWItZGV2K3dhbGxldHNAMi40LjMwX0BldGhlcnNwcm9qZWN0K2Fic3RyYWN0LXByb3ZpZGVyQDUuNy4wX0BldGhlcnNwcm9qZWN0K2Fic3RyYWN0LXNfeXF5N2JmNmY0aDc1dmhxcnlwb241eDJlbHkvbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9ldm0vY29ubmVjdG9ycy93YWxsZXQtY29ubmVjdC9kaXN0L3RoaXJkd2ViLWRldi13YWxsZXRzLWV2bS1jb25uZWN0b3JzLXdhbGxldC1jb25uZWN0LmJyb3dzZXIuZXNtLmpzP2M1YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyBhcyBfZGVmaW5lUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2RlZmluZVByb3BlcnR5LTM1MGZjNTA4LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IFUgYXMgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yLCBTIGFzIFN3aXRjaENoYWluRXJyb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2Vycm9ycy05ZWRjMDhjOC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyB1dGlscywgcHJvdmlkZXJzIH0gZnJvbSAnZXRoZXJzJztcbmltcG9ydCB7IHcgYXMgd2FsbGV0SWRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC93YWxsZXRJZHMtZGZmNmRjZWQuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRWYWxpZFB1YmxpY1JQQ1VybCB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvdXJsLWE0NTIxOWJkLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IFcgYXMgV2FnbWlDb25uZWN0b3IgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L1dhZ21pQ29ubmVjdG9yLTJmMTQwMDJkLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jaGFpbnMnO1xuaW1wb3J0ICdldmVudGVtaXR0ZXIzJztcblxuY29uc3QgY2hhaW5zVG9SZXF1ZXN0ID0gbmV3IFNldChbMSwgMTM3LCAxMCwgNDIxNjEsIDU2XSk7XG5jb25zdCBOQU1FU1BBQ0UgPSBcImVpcDE1NVwiO1xuY29uc3QgUkVRVUVTVEVEX0NIQUlOU19LRVkgPSBcIndhZ21pLnJlcXVlc3RlZENoYWluc1wiO1xuY29uc3QgQUREX0VUSF9DSEFJTl9NRVRIT0QgPSBcIndhbGxldF9hZGRFdGhlcmV1bUNoYWluXCI7XG5jb25zdCBMQVNUX1VTRURfQ0hBSU5fSUQgPSBcImxhc3QtdXNlZC1jaGFpbi1pZFwiO1xuY2xhc3MgV2FsbGV0Q29ubmVjdENvbm5lY3RvciBleHRlbmRzIFdhZ21pQ29ubmVjdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4uY29uZmlnLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBpc05ld0NoYWluc1N0YWxlOiB0cnVlLFxuICAgICAgICAuLi5jb25maWcub3B0aW9uc1xuICAgICAgfVxuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlkXCIsIHdhbGxldElkcy53YWxsZXRDb25uZWN0KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIFwiV2FsbGV0Q29ubmVjdFwiKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkeVwiLCB0cnVlKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkFjY291bnRzQ2hhbmdlZFwiLCBhY2NvdW50cyA9PiB7XG4gICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuZW1pdChcImRpc2Nvbm5lY3RcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYWNjb3VudHNbMF0pIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge1xuICAgICAgICAgICAgYWNjb3VudDogdXRpbHMuZ2V0QWRkcmVzcyhhY2NvdW50c1swXSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uQ2hhaW5DaGFuZ2VkXCIsIGFzeW5jIGNoYWluSWQgPT4ge1xuICAgICAgY29uc3QgaWQgPSBOdW1iZXIoY2hhaW5JZCk7XG4gICAgICBjb25zdCB1bnN1cHBvcnRlZCA9IHRoaXMuaXNDaGFpblVuc3VwcG9ydGVkKGlkKTtcbiAgICAgIGF3YWl0IHRoaXMuX3N0b3JhZ2Uuc2V0SXRlbShMQVNUX1VTRURfQ0hBSU5fSUQsIFN0cmluZyhjaGFpbklkKSk7XG4gICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge1xuICAgICAgICBjaGFpbjoge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHVuc3VwcG9ydGVkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uRGlzY29ubmVjdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLl9zZXRSZXF1ZXN0ZWRDaGFpbnNJZHMoW10pO1xuICAgICAgYXdhaXQgdGhpcy5fc3RvcmFnZS5yZW1vdmVJdGVtKExBU1RfVVNFRF9DSEFJTl9JRCk7XG4gICAgICB0aGlzLmVtaXQoXCJkaXNjb25uZWN0XCIpO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uRGlzcGxheVVyaVwiLCB1cmkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFwibWVzc2FnZVwiLCB7XG4gICAgICAgIHR5cGU6IFwiZGlzcGxheV91cmlcIixcbiAgICAgICAgZGF0YTogdXJpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KFwiY29ubmVjdFwiLCB7XG4gICAgICAgIHByb3ZpZGVyOiB0aGlzLl9wcm92aWRlclxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fc3RvcmFnZSA9IGNvbmZpZy5vcHRpb25zLnN0b3JhZ2U7XG4gICAgdGhpcy5fY3JlYXRlUHJvdmlkZXIoKTtcbiAgICB0aGlzLmZpbHRlcmVkQ2hhaW5zID0gdGhpcy5jaGFpbnMubGVuZ3RoID4gNTAgPyB0aGlzLmNoYWlucy5maWx0ZXIoYyA9PiB7XG4gICAgICByZXR1cm4gY2hhaW5zVG9SZXF1ZXN0LmhhcyhjLmNoYWluSWQpO1xuICAgIH0pIDogdGhpcy5jaGFpbnM7XG4gICAgdGhpcy5zaG93V2FsbGV0Q29ubmVjdE1vZGFsID0gdGhpcy5vcHRpb25zLnFyY29kZSAhPT0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICBsZXQge1xuICAgICAgY2hhaW5JZDogY2hhaW5JZFAsXG4gICAgICBwYWlyaW5nVG9waWNcbiAgICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0cnkge1xuICAgICAgbGV0IHRhcmdldENoYWluSWQgPSBjaGFpbklkUDtcbiAgICAgIGlmICghdGFyZ2V0Q2hhaW5JZCkge1xuICAgICAgICBjb25zdCBsYXN0VXNlZENoYWluSWRTdHIgPSBhd2FpdCB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oTEFTVF9VU0VEX0NIQUlOX0lEKTtcbiAgICAgICAgY29uc3QgbGFzdFVzZWRDaGFpbklkID0gbGFzdFVzZWRDaGFpbklkU3RyID8gcGFyc2VJbnQobGFzdFVzZWRDaGFpbklkU3RyKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGxhc3RVc2VkQ2hhaW5JZCAmJiAhdGhpcy5pc0NoYWluVW5zdXBwb3J0ZWQobGFzdFVzZWRDaGFpbklkKSkge1xuICAgICAgICAgIHRhcmdldENoYWluSWQgPSBsYXN0VXNlZENoYWluSWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0Q2hhaW5JZCA9IHRoaXMuZmlsdGVyZWRDaGFpbnNbMF0/LmNoYWluSWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdGFyZ2V0Q2hhaW5JZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjaGFpbnMgZm91bmQgb24gY29ubmVjdG9yLlwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgICAgdGhpcy5zZXR1cExpc3RlbmVycygpO1xuICAgICAgY29uc3QgaXNDaGFpbnNTdGFsZSA9IGF3YWl0IHRoaXMuX2lzQ2hhaW5zU3RhbGUoKTtcblxuICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gYWN0aXZlIHNlc3Npb24gd2l0aCBzdGFsZSBjaGFpbnMsIGRpc2Nvbm5lY3QgdGhlIGN1cnJlbnQgc2Vzc2lvbi5cbiAgICAgIGlmIChwcm92aWRlci5zZXNzaW9uICYmIGlzQ2hhaW5zU3RhbGUpIHtcbiAgICAgICAgYXdhaXQgcHJvdmlkZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSBubyBhY3RpdmUgc2Vzc2lvbiwgb3IgdGhlIGNoYWlucyBhcmUgc3RhbGUsIGNvbm5lY3QuXG4gICAgICBpZiAoIXByb3ZpZGVyLnNlc3Npb24gfHwgaXNDaGFpbnNTdGFsZSkge1xuICAgICAgICBjb25zdCBvcHRpb25hbENoYWlucyA9IHRoaXMuZmlsdGVyZWRDaGFpbnMuZmlsdGVyKGNoYWluID0+IGNoYWluLmNoYWluSWQgIT09IHRhcmdldENoYWluSWQpLm1hcChvcHRpb25hbENoYWluID0+IG9wdGlvbmFsQ2hhaW4uY2hhaW5JZCk7XG4gICAgICAgIHRoaXMuZW1pdChcIm1lc3NhZ2VcIiwge1xuICAgICAgICAgIHR5cGU6IFwiY29ubmVjdGluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBwcm92aWRlci5jb25uZWN0KHtcbiAgICAgICAgICBwYWlyaW5nVG9waWMsXG4gICAgICAgICAgY2hhaW5zOiBbdGFyZ2V0Q2hhaW5JZF0sXG4gICAgICAgICAgb3B0aW9uYWxDaGFpbnM6IG9wdGlvbmFsQ2hhaW5zLmxlbmd0aCA+IDAgPyBvcHRpb25hbENoYWlucyA6IFt0YXJnZXRDaGFpbklkXVxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc2V0UmVxdWVzdGVkQ2hhaW5zSWRzKHRoaXMuZmlsdGVyZWRDaGFpbnMubWFwKF9yZWYgPT4ge1xuICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICBjaGFpbklkXG4gICAgICAgICAgfSA9IF9yZWY7XG4gICAgICAgICAgcmV0dXJuIGNoYWluSWQ7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgc2Vzc2lvbiBleGlzdHMgYW5kIGNoYWlucyBhcmUgYXV0aG9yaXplZCwgZW5hYmxlIHByb3ZpZGVyIGZvciByZXF1aXJlZCBjaGFpblxuICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBwcm92aWRlci5lbmFibGUoKTtcbiAgICAgIGlmICghYWNjb3VudHNbMF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWNjb3VudHMgZm91bmQgb24gcHJvdmlkZXIuXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgYWNjb3VudCA9IHV0aWxzLmdldEFkZHJlc3MoYWNjb3VudHNbMF0pO1xuICAgICAgY29uc3QgaWQgPSBhd2FpdCB0aGlzLmdldENoYWluSWQoKTtcbiAgICAgIGNvbnN0IHVuc3VwcG9ydGVkID0gdGhpcy5pc0NoYWluVW5zdXBwb3J0ZWQoaWQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgY2hhaW46IHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB1bnN1cHBvcnRlZFxuICAgICAgICB9LFxuICAgICAgICBwcm92aWRlcjogbmV3IHByb3ZpZGVycy5XZWIzUHJvdmlkZXIocHJvdmlkZXIpXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoL3VzZXIgcmVqZWN0ZWQvaS50ZXN0KGVycm9yPy5tZXNzYWdlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKFwid2NAMlwiKSkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGNsZWFudXAoKTtcbiAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICBjb25zdCBkaXNjb25uZWN0UHJvdmlkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm92aWRlci5kaXNjb25uZWN0KCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoIS9ObyBtYXRjaGluZyBrZXkvaS50ZXN0KGVycm9yLm1lc3NhZ2UpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICBhd2FpdCB0aGlzLl9zZXRSZXF1ZXN0ZWRDaGFpbnNJZHMoW10pO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBkaXNjb25uZWN0UHJvdmlkZXIoKTtcbiAgfVxuICBhc3luYyBnZXRBY2NvdW50KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFjY291bnRzXG4gICAgfSA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICBpZiAoIWFjY291bnRzWzBdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhY2NvdW50cyBmb3VuZCBvbiBwcm92aWRlci5cIik7XG4gICAgfVxuICAgIHJldHVybiB1dGlscy5nZXRBZGRyZXNzKGFjY291bnRzWzBdKTtcbiAgfVxuICBhc3luYyBnZXRDaGFpbklkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoYWluSWRcbiAgICB9ID0gYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgIHJldHVybiBjaGFpbklkO1xuICB9XG4gIGFzeW5jIGdldFByb3ZpZGVyKCkge1xuICAgIGxldCB7XG4gICAgICBjaGFpbklkXG4gICAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKCF0aGlzLl9wcm92aWRlcikge1xuICAgICAgYXdhaXQgdGhpcy5fY3JlYXRlUHJvdmlkZXIoKTtcbiAgICB9XG4gICAgaWYgKGNoYWluSWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuc3dpdGNoQ2hhaW4oY2hhaW5JZCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5fcHJvdmlkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHByb3ZpZGVyIGZvdW5kLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyO1xuICB9XG4gIGFzeW5jIGdldFNpZ25lcigpIHtcbiAgICBsZXQge1xuICAgICAgY2hhaW5JZFxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGNvbnN0IFtwcm92aWRlciwgYWNjb3VudF0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5nZXRQcm92aWRlcih7XG4gICAgICBjaGFpbklkXG4gICAgfSksIHRoaXMuZ2V0QWNjb3VudCgpXSk7XG4gICAgcmV0dXJuIG5ldyBwcm92aWRlcnMuV2ViM1Byb3ZpZGVyKHByb3ZpZGVyLCBjaGFpbklkKS5nZXRTaWduZXIoYWNjb3VudCk7XG4gIH1cbiAgYXN5bmMgaXNBdXRob3JpemVkKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbYWNjb3VudCwgcHJvdmlkZXJdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0QWNjb3VudCgpLCB0aGlzLmdldFByb3ZpZGVyKCldKTtcbiAgICAgIGNvbnN0IGlzQ2hhaW5zU3RhbGUgPSBhd2FpdCB0aGlzLl9pc0NoYWluc1N0YWxlKCk7XG5cbiAgICAgIC8vIElmIGFuIGFjY291bnQgZG9lcyBub3QgZXhpc3Qgb24gdGhlIHNlc3Npb24sIHRoZW4gdGhlIGNvbm5lY3RvciBpcyB1bmF1dGhvcml6ZWQuXG4gICAgICBpZiAoIWFjY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgY2hhaW5zIGFyZSBzdGFsZSBvbiB0aGUgc2Vzc2lvbiwgdGhlbiB0aGUgY29ubmVjdG9yIGlzIHVuYXV0aG9yaXplZC5cbiAgICAgIGlmIChpc0NoYWluc1N0YWxlICYmIHByb3ZpZGVyLnNlc3Npb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBwcm92aWRlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH0gY2F0Y2gge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgc3dpdGNoQ2hhaW4oY2hhaW5JZCkge1xuICAgIGNvbnN0IGNoYWluID0gdGhpcy5jaGFpbnMuZmluZChjaGFpbl8gPT4gY2hhaW5fLmNoYWluSWQgPT09IGNoYWluSWQpO1xuICAgIGlmICghY2hhaW4pIHtcbiAgICAgIHRocm93IG5ldyBTd2l0Y2hDaGFpbkVycm9yKGBDaGFpbiB3aXRoIElEOiAke2NoYWluSWR9LCBub3QgZm91bmQgb24gY29ubmVjdG9yLmApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgICBjb25zdCBuYW1lc3BhY2VDaGFpbnMgPSB0aGlzLl9nZXROYW1lc3BhY2VDaGFpbnNJZHMoKTtcbiAgICAgIGNvbnN0IG5hbWVzcGFjZU1ldGhvZHMgPSB0aGlzLl9nZXROYW1lc3BhY2VNZXRob2RzKCk7XG4gICAgICBjb25zdCBpc0NoYWluQXBwcm92ZWQgPSBuYW1lc3BhY2VDaGFpbnMuaW5jbHVkZXMoY2hhaW5JZCk7XG4gICAgICBpZiAoIWlzQ2hhaW5BcHByb3ZlZCAmJiBuYW1lc3BhY2VNZXRob2RzLmluY2x1ZGVzKEFERF9FVEhfQ0hBSU5fTUVUSE9EKSkge1xuICAgICAgICBjb25zdCBmaXJzdEV4cGxvcmVyID0gY2hhaW4uZXhwbG9yZXJzICYmIGNoYWluLmV4cGxvcmVyc1swXTtcbiAgICAgICAgY29uc3QgYmxvY2tFeHBsb3JlclVybHMgPSBmaXJzdEV4cGxvcmVyID8ge1xuICAgICAgICAgIGJsb2NrRXhwbG9yZXJVcmxzOiBbZmlyc3RFeHBsb3Jlci51cmxdXG4gICAgICAgIH0gOiB7fTtcbiAgICAgICAgYXdhaXQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICAgICAgbWV0aG9kOiBBRERfRVRIX0NIQUlOX01FVEhPRCxcbiAgICAgICAgICBwYXJhbXM6IFt7XG4gICAgICAgICAgICBjaGFpbklkOiB1dGlscy5oZXhWYWx1ZShjaGFpbi5jaGFpbklkKSxcbiAgICAgICAgICAgIGNoYWluTmFtZTogY2hhaW4ubmFtZSxcbiAgICAgICAgICAgIG5hdGl2ZUN1cnJlbmN5OiBjaGFpbi5uYXRpdmVDdXJyZW5jeSxcbiAgICAgICAgICAgIHJwY1VybHM6IGdldFZhbGlkUHVibGljUlBDVXJsKGNoYWluKSxcbiAgICAgICAgICAgIC8vIG5vIGNsaWVudElkIG9uIHB1cnBvc2VcbiAgICAgICAgICAgIC4uLmJsb2NrRXhwbG9yZXJVcmxzXG4gICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZENoYWlucyA9IGF3YWl0IHRoaXMuX2dldFJlcXVlc3RlZENoYWluc0lkcygpO1xuICAgICAgICByZXF1ZXN0ZWRDaGFpbnMucHVzaChjaGFpbklkKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc2V0UmVxdWVzdGVkQ2hhaW5zSWRzKHJlcXVlc3RlZENoYWlucyk7XG4gICAgICB9XG4gICAgICBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiBcIndhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluXCIsXG4gICAgICAgIHBhcmFtczogW3tcbiAgICAgICAgICBjaGFpbklkOiB1dGlscy5oZXhWYWx1ZShjaGFpbklkKVxuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2hhaW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIgPyBlcnJvciA6IGVycm9yPy5tZXNzYWdlO1xuICAgICAgaWYgKC91c2VyIHJlamVjdGVkIHJlcXVlc3QvaS50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFN3aXRjaENoYWluRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuICBhc3luYyBfY3JlYXRlUHJvdmlkZXIoKSB7XG4gICAgaWYgKCF0aGlzLl9pbml0UHJvdmlkZXJQcm9taXNlICYmIFwib2JqZWN0XCIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuX2luaXRQcm92aWRlclByb21pc2UgPSB0aGlzLmluaXRQcm92aWRlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faW5pdFByb3ZpZGVyUHJvbWlzZTtcbiAgfVxuICBhc3luYyBpbml0UHJvdmlkZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZGVmYXVsdDogRXRoZXJldW1Qcm92aWRlcixcbiAgICAgIE9QVElPTkFMX0VWRU5UUyxcbiAgICAgIE9QVElPTkFMX01FVEhPRFNcbiAgICB9ID0gYXdhaXQgaW1wb3J0KCdAd2FsbGV0Y29ubmVjdC9ldGhlcmV1bS1wcm92aWRlcicpO1xuICAgIGNvbnN0IFtkZWZhdWx0Q2hhaW4sIC4uLm9wdGlvbmFsQ2hhaW5zXSA9IHRoaXMuZmlsdGVyZWRDaGFpbnMubWFwKF9yZWYyID0+IHtcbiAgICAgIGxldCB7XG4gICAgICAgIGNoYWluSWRcbiAgICAgIH0gPSBfcmVmMjtcbiAgICAgIHJldHVybiBjaGFpbklkO1xuICAgIH0pO1xuICAgIGlmIChkZWZhdWx0Q2hhaW4pIHtcbiAgICAgIC8vIEV0aGVyZXVtUHJvdmlkZXIgcG9wdWxhdGVzICYgZGVkdXBsaWNhdGVzIHJlcXVpcmVkIG1ldGhvZHMgYW5kIGV2ZW50cyBpbnRlcm5hbGx5XG4gICAgICB0aGlzLl9wcm92aWRlciA9IGF3YWl0IEV0aGVyZXVtUHJvdmlkZXIuaW5pdCh7XG4gICAgICAgIHNob3dRck1vZGFsOiB0aGlzLnNob3dXYWxsZXRDb25uZWN0TW9kYWwsXG4gICAgICAgIHByb2plY3RJZDogdGhpcy5vcHRpb25zLnByb2plY3RJZCxcbiAgICAgICAgb3B0aW9uYWxNZXRob2RzOiBPUFRJT05BTF9NRVRIT0RTLFxuICAgICAgICBvcHRpb25hbEV2ZW50czogT1BUSU9OQUxfRVZFTlRTLFxuICAgICAgICBjaGFpbnM6IFtkZWZhdWx0Q2hhaW5dLFxuICAgICAgICBvcHRpb25hbENoYWluczogb3B0aW9uYWxDaGFpbnMsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgbmFtZTogdGhpcy5vcHRpb25zLmRhcHBNZXRhZGF0YS5uYW1lLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLm9wdGlvbnMuZGFwcE1ldGFkYXRhLmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgICAgdXJsOiB0aGlzLm9wdGlvbnMuZGFwcE1ldGFkYXRhLnVybCxcbiAgICAgICAgICBpY29uczogW3RoaXMub3B0aW9ucy5kYXBwTWV0YWRhdGEubG9nb1VybCB8fCBcIlwiXVxuICAgICAgICB9LFxuICAgICAgICBycGNNYXA6IE9iamVjdC5mcm9tRW50cmllcyh0aGlzLmZpbHRlcmVkQ2hhaW5zLm1hcChjaGFpbiA9PiBbY2hhaW4uY2hhaW5JZCwgY2hhaW4ucnBjWzBdIHx8IFwiXCIgLy8gVE9ETzogaGFuZGxlIGNoYWluLnJwYyBiZWluZyBlbXB0eSBhcnJheVxuICAgICAgICBdKSksXG4gICAgICAgIHFyTW9kYWxPcHRpb25zOiB0aGlzLm9wdGlvbnMucXJNb2RhbE9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHRhcmdldCBjaGFpbnMgbWF0Y2ggdGhlIGNoYWlucyB0aGF0IHdlcmVcbiAgICogaW5pdGlhbGx5IHJlcXVlc3RlZCBieSB0aGUgY29ubmVjdG9yIGZvciB0aGUgV2FsbGV0Q29ubmVjdCBzZXNzaW9uLlxuICAgKiBJZiB0aGVyZSBpcyBhIG1pc21hdGNoLCB0aGlzIG1lYW5zIHRoYXQgdGhlIGNoYWlucyBvbiB0aGUgY29ubmVjdG9yXG4gICAqIGFyZSBjb25zaWRlcmVkIHN0YWxlLCBhbmQgbmVlZCB0byBiZSByZXZhbGlkYXRlZCBhdCBhIGxhdGVyIHBvaW50ICh2aWFcbiAgICogY29ubmVjdGlvbikuXG4gICAqXG4gICAqIFRoZXJlIG1heSBiZSBhIHNjZW5hcmlvIHdoZXJlIGEgZGFwcCBhZGRzIGEgY2hhaW4gdG8gdGhlXG4gICAqIGNvbm5lY3RvciBsYXRlciBvbiwgaG93ZXZlciwgdGhpcyBjaGFpbiB3aWxsIG5vdCBoYXZlIGJlZW4gYXBwcm92ZWQgb3IgcmVqZWN0ZWRcbiAgICogYnkgdGhlIHdhbGxldC4gSW4gdGhpcyBjYXNlLCB0aGUgY2hhaW4gaXMgY29uc2lkZXJlZCBzdGFsZS5cbiAgICpcbiAgICogVGhlcmUgYXJlIGV4Y2VwdGlvbnMgaG93ZXZlcjpcbiAgICogLSAgSWYgdGhlIHdhbGxldCBzdXBwb3J0cyBkeW5hbWljIGNoYWluIGFkZGl0aW9uIHZpYSBgZXRoX2FkZEV0aGVyZXVtQ2hhaW5gLFxuICAgKiAgICB0aGVuIHRoZSBjaGFpbiBpcyBub3QgY29uc2lkZXJlZCBzdGFsZS5cbiAgICogLSAgSWYgdGhlIGBpc05ld0NoYWluc1N0YWxlYCBmbGFnIGlzIGZhbHN5IG9uIHRoZSBjb25uZWN0b3IsIHRoZW4gdGhlIGNoYWluIGlzXG4gICAqICAgIG5vdCBjb25zaWRlcmVkIHN0YWxlLlxuICAgKlxuICAgKiBGb3IgdGhlIGFib3ZlIGNhc2VzLCBjaGFpbiB2YWxpZGF0aW9uIG9jY3VycyBkeW5hbWljYWxseSB3aGVuIHRoZSB1c2VyXG4gICAqIGF0dGVtcHRzIHRvIHN3aXRjaCBjaGFpbi5cbiAgICpcbiAgICogQWxzbyBjaGVjayB0aGF0IGRhcHAgc3VwcG9ydHMgYXQgbGVhc3QgMSBjaGFpbiBmcm9tIHByZXZpb3VzbHkgYXBwcm92ZWQgc2Vzc2lvbi5cbiAgICovXG4gIGFzeW5jIF9pc0NoYWluc1N0YWxlKCkge1xuICAgIGNvbnN0IG5hbWVzcGFjZU1ldGhvZHMgPSB0aGlzLl9nZXROYW1lc3BhY2VNZXRob2RzKCk7XG4gICAgaWYgKG5hbWVzcGFjZU1ldGhvZHMuaW5jbHVkZXMoQUREX0VUSF9DSEFJTl9NRVRIT0QpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghdGhpcy5vcHRpb25zLmlzTmV3Q2hhaW5zU3RhbGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdGVkQ2hhaW5zID0gYXdhaXQgdGhpcy5fZ2V0UmVxdWVzdGVkQ2hhaW5zSWRzKCk7XG4gICAgY29uc3QgY29ubmVjdG9yQ2hhaW5zID0gdGhpcy5maWx0ZXJlZENoYWlucy5tYXAoX3JlZjMgPT4ge1xuICAgICAgbGV0IHtcbiAgICAgICAgY2hhaW5JZFxuICAgICAgfSA9IF9yZWYzO1xuICAgICAgcmV0dXJuIGNoYWluSWQ7XG4gICAgfSk7XG4gICAgY29uc3QgbmFtZXNwYWNlQ2hhaW5zID0gdGhpcy5fZ2V0TmFtZXNwYWNlQ2hhaW5zSWRzKCk7XG4gICAgaWYgKG5hbWVzcGFjZUNoYWlucy5sZW5ndGggJiYgIW5hbWVzcGFjZUNoYWlucy5zb21lKGlkID0+IGNvbm5lY3RvckNoYWlucy5pbmNsdWRlcyhpZCkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhY29ubmVjdG9yQ2hhaW5zLmV2ZXJ5KGlkID0+IHJlcXVlc3RlZENoYWlucy5pbmNsdWRlcyhpZCkpO1xuICB9XG4gIGFzeW5jIHNldHVwTGlzdGVuZXJzKCkge1xuICAgIGlmICghdGhpcy5fcHJvdmlkZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcHJvdmlkZXIub24oXCJhY2NvdW50c0NoYW5nZWRcIiwgdGhpcy5vbkFjY291bnRzQ2hhbmdlZCk7XG4gICAgdGhpcy5fcHJvdmlkZXIub24oXCJjaGFpbkNoYW5nZWRcIiwgdGhpcy5vbkNoYWluQ2hhbmdlZCk7XG4gICAgdGhpcy5fcHJvdmlkZXIub24oXCJkaXNjb25uZWN0XCIsIHRoaXMub25EaXNjb25uZWN0KTtcbiAgICB0aGlzLl9wcm92aWRlci5vbihcInNlc3Npb25fZGVsZXRlXCIsIHRoaXMub25EaXNjb25uZWN0KTtcbiAgICB0aGlzLl9wcm92aWRlci5vbihcImRpc3BsYXlfdXJpXCIsIHRoaXMub25EaXNwbGF5VXJpKTtcbiAgICB0aGlzLl9wcm92aWRlci5vbihcImNvbm5lY3RcIiwgdGhpcy5vbkNvbm5lY3QpO1xuICB9XG4gIF9yZW1vdmVMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKCF0aGlzLl9wcm92aWRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9wcm92aWRlci5yZW1vdmVMaXN0ZW5lcihcImFjY291bnRzQ2hhbmdlZFwiLCB0aGlzLm9uQWNjb3VudHNDaGFuZ2VkKTtcbiAgICB0aGlzLl9wcm92aWRlci5yZW1vdmVMaXN0ZW5lcihcImNoYWluQ2hhbmdlZFwiLCB0aGlzLm9uQ2hhaW5DaGFuZ2VkKTtcbiAgICB0aGlzLl9wcm92aWRlci5yZW1vdmVMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgdGhpcy5vbkRpc2Nvbm5lY3QpO1xuICAgIHRoaXMuX3Byb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKFwic2Vzc2lvbl9kZWxldGVcIiwgdGhpcy5vbkRpc2Nvbm5lY3QpO1xuICAgIHRoaXMuX3Byb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKFwiZGlzcGxheV91cmlcIiwgdGhpcy5vbkRpc3BsYXlVcmkpO1xuICAgIHRoaXMuX3Byb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKFwiY29ubmVjdFwiLCB0aGlzLm9uQ29ubmVjdCk7XG4gIH1cbiAgYXN5bmMgX3NldFJlcXVlc3RlZENoYWluc0lkcyhjaGFpbnMpIHtcbiAgICBhd2FpdCB0aGlzLl9zdG9yYWdlLnNldEl0ZW0oUkVRVUVTVEVEX0NIQUlOU19LRVksIEpTT04uc3RyaW5naWZ5KGNoYWlucykpO1xuICB9XG4gIGFzeW5jIF9nZXRSZXF1ZXN0ZWRDaGFpbnNJZHMoKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbShSRVFVRVNURURfQ0hBSU5TX0tFWSk7XG4gICAgcmV0dXJuIGRhdGEgPyBKU09OLnBhcnNlKGRhdGEpIDogW107XG4gIH1cbiAgX2dldE5hbWVzcGFjZUNoYWluc0lkcygpIHtcbiAgICBpZiAoIXRoaXMuX3Byb3ZpZGVyKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGNoYWluSWRzID0gdGhpcy5fcHJvdmlkZXIuc2Vzc2lvbj8ubmFtZXNwYWNlc1tOQU1FU1BBQ0VdPy5jaGFpbnM/Lm1hcChjaGFpbiA9PiBwYXJzZUludChjaGFpbi5zcGxpdChcIjpcIilbMV0gfHwgXCJcIikpO1xuICAgIHJldHVybiBjaGFpbklkcyA/PyBbXTtcbiAgfVxuICBfZ2V0TmFtZXNwYWNlTWV0aG9kcygpIHtcbiAgICBpZiAoIXRoaXMuX3Byb3ZpZGVyKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IG1ldGhvZHMgPSB0aGlzLl9wcm92aWRlci5zZXNzaW9uPy5uYW1lc3BhY2VzW05BTUVTUEFDRV0/Lm1ldGhvZHM7XG4gICAgcmV0dXJuIG1ldGhvZHMgPz8gW107XG4gIH1cbn1cblxuZXhwb3J0IHsgV2FsbGV0Q29ubmVjdENvbm5lY3RvciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/.pnpm/@thirdweb-dev+wallets@2.4.30_@ethersproject+abstract-provider@5.7.0_@ethersproject+abstract-s_yqy7bf6f4h75vhqrypon5x2ely/node_modules/@thirdweb-dev/wallets/evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.browser.esm.js\n"));

/***/ })

}]);